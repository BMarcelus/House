var _0x4685=['https://bmarcelus.github.io/House','getElementById','getContext','innerWidth','style','height','100%','width','moveTo','lineTo','triangle','fill','fillStyle','white','fillRect','fillTriangle','black','beginPath','angle','update','draw','save','translate','scale','rotate','drawShape','color','color2','restore','moused','contains','clicked','shouldDelete','push','down','start','play','red','distance','none','output','shoot','#000','held','moveSpeed','updatePlatformer','moveAnimation','life','maxLife','moving','coins','moveFrame','shooting','invul','die','playerHit','aimAngle','atan2','doWobble','sin','footstep','doShoot','shootTimer','cos','updateAimAngle','updateMover','otherUpdates','parent','speed','hit','frame','target','sqrt','movement','enemyDie','random','health','#900','#b99','floor','#888','bossSpawn','state','stage','stateTimer','strokeStyle','center','font','40px\x20Impact','lineWidth','HOUSE','fillText','gold','falling','visible','coin','animate','pickup','#F0a','default','#fff','shotgun','#0ff','length','splice','globalAlpha','clearRect','forEach','requestAnimationFrame','textAlign','60px\x20Impact','strokeText','20px\x20Gloria\x20Hallelujah,\x20Cursive','#f0a','#f88','#333','House:\x20','rgba(255,0,0,0.5)','rgba(0,0,0,0.1)','cursor','getBoundingClientRect','clientX','left','clientY','top','offsetHeight','keyCode','addEventListener','resize','load','mousemove','mousedown','keydown','keyup','hostName','location'];(function(_0x2f27e0,_0x176e8e){var _0x1c3bd4=function(_0x22479a){while(--_0x22479a){_0x2f27e0['push'](_0x2f27e0['shift']());}};_0x1c3bd4(++_0x176e8e);}(_0x4685,0x111));var _0x4db2=function(_0x3c7aad,_0x4410c0){_0x3c7aad=_0x3c7aad-0x0;var _0x519b11=_0x4685[_0x3c7aad];return _0x519b11;};var CE=document[_0x4db2('0x0')]('gc');var canvas=CE[_0x4db2('0x1')]('2d');function onresize(_0x2f7072){var _0x26022a=window[_0x4db2('0x2')]/window['innerHeight'];var _0x12da36=canvas['width']/canvas['height'];if(_0x26022a>_0x12da36){CE[_0x4db2('0x3')][_0x4db2('0x4')]=_0x4db2('0x5');CE['style'][_0x4db2('0x6')]='';}else{CE[_0x4db2('0x3')][_0x4db2('0x6')]=_0x4db2('0x5');CE[_0x4db2('0x3')]['height']='';}}canvas['triangle']=function(_0x119578,_0x360ec3,_0x59527c,_0x2142f7){canvas[_0x4db2('0x7')](_0x119578,_0x360ec3);canvas[_0x4db2('0x8')](_0x119578+_0x59527c,_0x360ec3);canvas['lineTo'](_0x119578+_0x59527c/0x2,_0x360ec3+_0x2142f7);canvas[_0x4db2('0x8')](_0x119578,_0x360ec3);};canvas['fillTriangle']=function(_0x5a9c19,_0xc16d5c,_0x2429df,_0x5aea3d){canvas['beginPath']();canvas[_0x4db2('0x9')](_0x5a9c19,_0xc16d5c,_0x2429df,_0x5aea3d);canvas[_0x4db2('0xa')]();};function drawHouse(_0x6ca576,_0xc567ac,_0x4e8dbd,_0x19427f,_0xd0f3a4,_0xdf0e83){canvas[_0x4db2('0xb')]=_0xd0f3a4||_0x4db2('0xc');canvas[_0x4db2('0xd')](_0x6ca576,_0xc567ac+_0x19427f/0x2,_0x4e8dbd,_0x19427f/0x2);canvas[_0x4db2('0xe')](_0x6ca576+-_0x4e8dbd/0xa,_0xc567ac+_0x19427f/0x2+0x1,_0x4e8dbd+_0x4e8dbd*0x2/0xa,-_0x19427f/0x2);canvas[_0x4db2('0xb')]=_0xdf0e83||_0x4db2('0xf');canvas[_0x4db2('0xd')](_0x6ca576+_0x4e8dbd*0.6,_0xc567ac+_0x19427f/0x2+_0x19427f/0x6,_0x4e8dbd/0x4,_0x19427f*0x2/0x6);canvas[_0x4db2('0xd')](_0x6ca576+_0x4e8dbd*0.2,_0xc567ac+_0x19427f/0x2+_0x19427f/0x6,_0x4e8dbd/0x5,_0x19427f/0x6);}function drawHalfHouse(_0x43c099,_0x10d387,_0x2f5095,_0x1a6cf3,_0x1e1555,_0x3651ff){canvas[_0x4db2('0xb')]=_0x1e1555||_0x4db2('0xc');canvas[_0x4db2('0xd')](_0x43c099,_0x10d387+_0x1a6cf3/0x2,_0x2f5095/0x2,_0x1a6cf3/0x2);canvas[_0x4db2('0x10')]();canvas[_0x4db2('0x7')](_0x43c099-_0x2f5095/0xa,_0x10d387+_0x1a6cf3/0x2+0x1);canvas['lineTo'](_0x43c099+_0x2f5095/0x2,_0x10d387+_0x1a6cf3/0x2+0x1-_0x1a6cf3/0x2);canvas[_0x4db2('0x8')](_0x43c099+_0x2f5095/0x2,_0x10d387+_0x1a6cf3/0x2+0x1);canvas[_0x4db2('0xa')]();canvas['fillStyle']=_0x3651ff||_0x4db2('0xf');canvas[_0x4db2('0xd')](_0x43c099+_0x2f5095*0.2,_0x10d387+_0x1a6cf3/0x2+_0x1a6cf3/0x6,_0x2f5095/0x5,_0x1a6cf3/0x6);}class Thing{constructor(){this['scale']=0x1;this[_0x4db2('0x11')]=0x0;}[_0x4db2('0x12')](){}[_0x4db2('0x13')](){const {x,y,w,h}=this;canvas[_0x4db2('0x14')]();canvas[_0x4db2('0x15')](x,y);canvas['scale'](this[_0x4db2('0x16')],this[_0x4db2('0x16')]);canvas[_0x4db2('0x17')](this[_0x4db2('0x11')]);canvas[_0x4db2('0x15')](-w/0x2,-h/0x2);this[_0x4db2('0x18')](0x0,0x0,w,h,this[_0x4db2('0x19')],this[_0x4db2('0x1a')]);canvas[_0x4db2('0x1b')]();}}class Clickable extends Thing{constructor(_0x58bacd,_0x257a11){super();this['x']=_0x58bacd;this['y']=_0x257a11;}['contains'](_0x2c565f,_0x517033){return _0x2c565f>=this['x']-this['w']/0x2&&_0x2c565f<=this['x']+this['w']/0x2&&_0x517033>=this['y']-this['h']/0x2&&_0x517033<=this['y']+this['h']/0x2;}[_0x4db2('0x1c')](){return this[_0x4db2('0x1d')](mouse['x'],mouse['y']);}[_0x4db2('0x1e')](){}[_0x4db2('0x12')](){if(this[_0x4db2('0x1c')]()){this[_0x4db2('0x16')]+=(1.2-this['scale'])/0x3;if(mouse['down']){this[_0x4db2('0x1e')]();}}else{this[_0x4db2('0x16')]+=(0x1-this[_0x4db2('0x16')])/0x3;}}}class HouseButton extends Clickable{constructor(_0x11968c,_0x34003a){super(_0x11968c,_0x34003a);this['w']=0x32;this['h']=0x3c;this['d']=0x64;}[_0x4db2('0x12')](){this['d']+=(0x0-this['d'])/0x32;if(touchOn||gamepadOn)this[_0x4db2('0x1e')]();super[_0x4db2('0x12')]();}[_0x4db2('0x1e')](){this[_0x4db2('0x1f')]=!![];entities[_0x4db2('0x20')](new Mover(this['x'],this['y']));entities[_0x4db2('0x20')](new CrossHairs());mouse[_0x4db2('0x21')]=![];SOUNDS[_0x4db2('0x22')][_0x4db2('0x23')]();started=!![];frameCount=0x0;}[_0x4db2('0x18')](_0x20a594,_0x25b60e,_0x9c3ebd,_0x203c4c,_0x4f063f,_0x5c4db0){var _0x50e04e=this['d'];canvas[_0x4db2('0xb')]=_0x4f063f||_0x4db2('0xc');canvas[_0x4db2('0xd')](_0x20a594,_0x25b60e+_0x203c4c/0x2+_0x50e04e,_0x9c3ebd,_0x203c4c/0x2);canvas['fillTriangle'](_0x20a594+-_0x9c3ebd/0xa,_0x25b60e+_0x203c4c/0x2+0x1-_0x50e04e,_0x9c3ebd+_0x9c3ebd*0x2/0xa,-_0x203c4c/0x2);canvas[_0x4db2('0xb')]=_0x5c4db0||_0x4db2('0xf');canvas[_0x4db2('0xd')](_0x20a594+_0x9c3ebd*0.6,_0x25b60e+_0x203c4c/0x2+_0x203c4c/0x6+_0x50e04e*0x2,_0x9c3ebd/0x4,_0x203c4c*0x2/0x6);canvas[_0x4db2('0xd')](_0x20a594+_0x9c3ebd*0.2,_0x25b60e+_0x203c4c/0x2+_0x203c4c/0x6+_0x50e04e*0x3,_0x9c3ebd/0x5,_0x203c4c/0x6);}}var crossHairs;class CrossHairs extends Thing{constructor(){super();this[_0x4db2('0x19')]=_0x4db2('0x24');this[_0x4db2('0x1a')]='#900';this['x']=mouse['x'];this['y']=mouse['y'];this['w']=0x0;this['h']=0x0;this[_0x4db2('0x25')]=0x3;CE[_0x4db2('0x3')]['cursor']=_0x4db2('0x26');crossHairs=this;}[_0x4db2('0x12')](){if(touchOn){this['x']=player['x']+touchJoySticks[0x1][_0x4db2('0x27')]['x']*0x12c;this['y']=player['y']+touchJoySticks[0x1][_0x4db2('0x27')]['y']*0x12c;}else if(gamepadOn){this['x']=player['x']+gamepadOn[0x1][_0x4db2('0x27')]['x']*0x12c;this['y']=player['y']+gamepadOn[0x1][_0x4db2('0x27')]['y']*0x12c;}else{this['x']=mouse['x'];this['y']=mouse['y'];}if(this['x']<0x0)this['x']=0x0;if(this['x']>CE[_0x4db2('0x6')])this['x']=CE['width'];if(this['y']<0x0)this['y']=0x0;if(this['y']>CE[_0x4db2('0x4')])this['y']=CE[_0x4db2('0x4')];this[_0x4db2('0x25')]+=(0x2-this[_0x4db2('0x25')])/0x1e;this[_0x4db2('0x16')]+=(0x1-this['scale'])/0x1e;}[_0x4db2('0x28')](){this[_0x4db2('0x25')]=0x9;this[_0x4db2('0x16')]=1.2;}['drawShape'](_0x10d931,_0x18f7d4,_0x3399cc,_0x4d27d6,_0x5fe867){_0x3399cc=0x6;for(var _0x4f115e=0x0;_0x4f115e<0x4;_0x4f115e++){var _0x1965d9=0x1;var _0x4d27d6=0xe;drawHouse(-_0x3399cc/0x2-0.3-_0x1965d9,this[_0x4db2('0x25')]-_0x1965d9,_0x3399cc+_0x1965d9*0x2,_0x4d27d6+_0x1965d9*0x2,_0x4db2('0x29'),_0x4db2('0x29'));drawHouse(-_0x3399cc/0x2-0.3,this[_0x4db2('0x25')],_0x3399cc,_0x4d27d6,_0x5fe867,this[_0x4db2('0x1a')]);canvas[_0x4db2('0x17')](Math['PI']/0x2);}}}function getAxes(){if(touchOn&&touchJoySticks[0x0]['held']){return{'inputX':touchJoySticks[0x0][_0x4db2('0x27')]['x'],'inputY':touchJoySticks[0x0][_0x4db2('0x27')]['y']};}if(gamepadOn&&gamepadJoysticks[0x0][_0x4db2('0x2a')]){return{'inputX':gamepadJoysticks[0x0]['output']['x'],'inputY':gamepadJoysticks[0x0][_0x4db2('0x27')]['y']};}var _0x132e14=(keys[0x44]||keys[0x27])-(keys[0x41]||keys[0x25]);var _0x344873=(keys[0x53]||keys[0x28])-(keys[0x57]||keys[0x26]);return{'inputX':_0x132e14,'inputY':_0x344873};}var numberOfShots=0x1;class Mover extends Thing{constructor(_0x5146a8,_0xd45a66){super();this['x']=_0x5146a8;this['y']=_0xd45a66;this['w']=0x32;this['h']=0x3c;this['vx']=0x0;this['vy']=-0x6;this[_0x4db2('0x2b')]=0x3;this[_0x4db2('0x12')]=this[_0x4db2('0x2c')];this[_0x4db2('0x2d')]=0x0;this['maxLife']=0x6;this[_0x4db2('0x2e')]=this[_0x4db2('0x2f')];player=this;this['invul']=0x0;this[_0x4db2('0x30')]=![];this[_0x4db2('0x31')]=0x0;this[_0x4db2('0x32')]=0x0;this[_0x4db2('0x33')]=![];this['shootTimer']=0x0;}['hit'](){if(this[_0x4db2('0x2e')]<=0x0)return;if(this[_0x4db2('0x34')]>0x0)return;this[_0x4db2('0x16')]+=0.3;this[_0x4db2('0x2e')]-=0x1;this[_0x4db2('0x34')]=0x14;if(this[_0x4db2('0x2e')]<=0x0){SOUNDS[_0x4db2('0x35')][_0x4db2('0x23')]();}else SOUNDS[_0x4db2('0x36')]['play']();}['updateAimAngle'](){if(touchOn&&touchJoySticks[0x1]['held']){this[_0x4db2('0x37')]=touchJoySticks[0x1][_0x4db2('0x27')][_0x4db2('0x11')];this[_0x4db2('0x33')]=!![];return;}if(gamepadOn&&gamepadJoysticks[0x1][_0x4db2('0x2a')]){this[_0x4db2('0x37')]=gamepadJoysticks[0x1][_0x4db2('0x27')][_0x4db2('0x11')];this[_0x4db2('0x33')]=!![];return;}this[_0x4db2('0x33')]=mouse[_0x4db2('0x2a')];var _0xf1770d=mouse['x']-this['x'];var _0x50f592=mouse['y']-this['y'];this[_0x4db2('0x37')]=Math[_0x4db2('0x38')](_0x50f592,_0xf1770d);}[_0x4db2('0x39')](){var _0x2d4059=0x10;this['angle']=Math[_0x4db2('0x3a')](this[_0x4db2('0x32')]*Math['PI']/_0x2d4059)*Math['PI']/0x18*this[_0x4db2('0x2d')];if(this[_0x4db2('0x30')]&&this['moveFrame']%_0x2d4059==0x1){SOUNDS[_0x4db2('0x3b')][_0x4db2('0x23')]();}if(!this[_0x4db2('0x2d')])this[_0x4db2('0x32')]=0x0;}[_0x4db2('0x3c')](){if(win)return;if(this[_0x4db2('0x33')]&&this[_0x4db2('0x3d')]%0xa==0x0){this['shootTimer']+=0x1;crossHairs[_0x4db2('0x28')]();var _0x120ffe=Math['PI']/0x14;var _0x31b610=this[_0x4db2('0x37')]-numberOfShots*_0x120ffe/0x2;for(var _0x793e3=0x0;_0x793e3<numberOfShots;_0x793e3++){var _0x507dd0=_0x31b610+(_0x793e3+0.05)*_0x120ffe;var _0x3ab2b8=new Bullet(this['x']+Math[_0x4db2('0x3e')](_0x507dd0)*0x32,this['y']+Math[_0x4db2('0x3a')](_0x507dd0)*0x32,_0x507dd0,this);entities[_0x4db2('0x20')](_0x3ab2b8);playerBullets[_0x4db2('0x20')](_0x3ab2b8);}SOUNDS[_0x4db2('0x28')][_0x4db2('0x23')]();}}['otherUpdates'](){this[_0x4db2('0x32')]+=0x1;if(this['shootTimer']%0xa!=0x0){this[_0x4db2('0x3d')]+=0x1;}this[_0x4db2('0x16')]+=(0x1-this[_0x4db2('0x16')])/0x3;if(this[_0x4db2('0x34')]>0x0)this[_0x4db2('0x34')]-=0x1;this[_0x4db2('0x3f')]();this[_0x4db2('0x39')]();this[_0x4db2('0x3c')]();if(this['x']<0x0)this['x']=0x0;if(this['x']>CE[_0x4db2('0x6')])this['x']=CE[_0x4db2('0x6')];if(this['y']<0x0)this['y']=0x0;if(this['y']>CE[_0x4db2('0x4')])this['y']=CE[_0x4db2('0x4')];}['updatePlatformer'](){var {inputX,inputY}=getAxes();this['vx']=inputX*this[_0x4db2('0x2b')];this['x']+=this['vx'];this['y']+=this['vy'];this['vy']+=0.2;if(this['y']>CE[_0x4db2('0x4')]*0.8){this['y']=CE['height']*0.8;this['vy']=0x0;}if(inputY){this['update']=this[_0x4db2('0x40')];}if(this['vx']){this['moveAnimation']+=(0x1-this[_0x4db2('0x2d')])/0xa;this[_0x4db2('0x30')]=!![];}else{this[_0x4db2('0x2d')]+=(0x0-this[_0x4db2('0x2d')])/0xa;this[_0x4db2('0x30')]=![];}this[_0x4db2('0x41')]();}[_0x4db2('0x40')](){var {inputX,inputY}=getAxes();if(this[_0x4db2('0x2e')]<=0x0){this['vx']*=0.8;this['vy']*=0.8;}else if(this['invul']){this['vx']+=(inputX*this[_0x4db2('0x2b')]-this['vx'])/0x2;this['vy']+=(inputY*this['moveSpeed']-this['vy'])/0x2;}else{this['vx']=inputX*this[_0x4db2('0x2b')];this['vy']=inputY*this[_0x4db2('0x2b')];}this['x']+=this['vx'];this['y']+=this['vy'];if(this['vx']||this['vy']){this[_0x4db2('0x2d')]+=(0x1-this[_0x4db2('0x2d')])/0xa;this['moving']=!![];}else{this[_0x4db2('0x2d')]+=(0x0-this[_0x4db2('0x2d')])/0xa;this[_0x4db2('0x30')]=![];}this[_0x4db2('0x41')]();}[_0x4db2('0x18')](_0x4cadec,_0x3dbcd7,_0x45c4fc,_0x35e46c){drawHouse(_0x4cadec,_0x3dbcd7,_0x45c4fc,_0x35e46c);canvas[_0x4db2('0x15')](_0x45c4fc*0.5,_0x35e46c*0.6);canvas[_0x4db2('0x16')](0.3,0.3);canvas['rotate'](this[_0x4db2('0x37')]+Math['PI']/0x2);drawHouse(-_0x45c4fc/0x2,-_0x35e46c*0x3,_0x45c4fc,_0x35e46c);}}class Bullet extends Thing{constructor(_0x1cf431,_0x42fd7f,_0x2def05,_0x5ef80d){super();this['x']=_0x1cf431;this['y']=_0x42fd7f;this['w']=0xf;this['h']=0xf;this[_0x4db2('0x11')]=_0x2def05+Math['PI']/0x2;this[_0x4db2('0x42')]=_0x5ef80d;this[_0x4db2('0x18')]=drawHouse;this[_0x4db2('0x43')]=0x4;this['vx']=Math['cos'](_0x2def05)*this['speed'];this['vy']=Math['sin'](_0x2def05)*this[_0x4db2('0x43')];this[_0x4db2('0x2e')]=0x64;this[_0x4db2('0x19')]=_0x4db2('0xc');}[_0x4db2('0x44')](){this[_0x4db2('0x1f')]=!![];}[_0x4db2('0x12')](){this['x']+=this['vx'];this['y']+=this['vy'];this[_0x4db2('0x2e')]-=0x1;if(this[_0x4db2('0x2e')]<=0x0)this[_0x4db2('0x1f')]=!![];}}class Enemy extends Thing{constructor(_0x35f572,_0x463fbe){super();this['x']=_0x35f572;this['y']=_0x463fbe;this['w']=0x32;this['h']=0x3c;this[_0x4db2('0x19')]='#a00';this[_0x4db2('0x18')]=drawHouse;this[_0x4db2('0x2e')]=0x3;enemies[_0x4db2('0x20')](this);this['vx']=0x0;this['vy']=0x0;this[_0x4db2('0x43')]=0x1;this['_w']=this['w'];this['_h']=this['h'];this[_0x4db2('0x45')]=0x0;this[_0x4db2('0x46')]=player;}['movement'](_0x59ea02,_0x2911dd,_0x5cdc74,_0x5d570b){this['vx']=Math[_0x4db2('0x3e')](_0x5cdc74+Math['PI']/0x14)*this[_0x4db2('0x43')];this['vy']=Math[_0x4db2('0x3a')](_0x5cdc74+Math['PI']/0x14)*this[_0x4db2('0x43')];}[_0x4db2('0x12')](){this[_0x4db2('0x45')]+=0x1;var _0x1dbffa=this[_0x4db2('0x46')]['x']-this['x'];var _0x54553f=this[_0x4db2('0x46')]['y']-this['y'];var _0x294836=Math[_0x4db2('0x38')](_0x54553f,_0x1dbffa);var _0x29dad6=Math[_0x4db2('0x47')](_0x1dbffa*_0x1dbffa+_0x54553f*_0x54553f);this[_0x4db2('0x48')](_0x1dbffa,_0x54553f,_0x294836,_0x29dad6);this['x']+=this['vx'];this['y']+=this['vy'];this[_0x4db2('0x11')]=Math[_0x4db2('0x3e')](this[_0x4db2('0x45')]*Math['PI']/0x14)*Math['PI']/0x18;this[_0x4db2('0x16')]+=(0x1-this[_0x4db2('0x16')])/0x3;if(collides(this,player)){this['x']-=_0x1dbffa/_0x29dad6;this['y']-=_0x54553f/_0x29dad6;if(this['target']!=player){_0x1dbffa=player['x']-this['x'];_0x54553f=player['y']-this['y'];_0x29dad6=Math[_0x4db2('0x47')](_0x1dbffa*_0x1dbffa+_0x54553f*_0x54553f);if(_0x29dad6==0x0){_0x29dad6=0x1;_0x1dbffa=0x1;}}player['hit']();player['vx']=_0x1dbffa/_0x29dad6*0xa;player['vy']=_0x54553f/_0x29dad6*0xa;}}[_0x4db2('0x44')](){this[_0x4db2('0x2e')]-=0x1;this['scale']+=0.2;SOUNDS[_0x4db2('0x44')][_0x4db2('0x23')]();if(this[_0x4db2('0x2e')]<=0x0){this[_0x4db2('0x1f')]=!![];SOUNDS[_0x4db2('0x49')][_0x4db2('0x23')]();if(Math['random']()>0.7){SOUNDS['coin'][_0x4db2('0x23')]();for(var _0x2bf5c6=0x0;_0x2bf5c6<0x1+Math['random']()*0x4;++_0x2bf5c6){entities['push'](new Coin(this['x'],this['y'],Math[_0x4db2('0x4a')]()*Math['PI']*0x2,Math[_0x4db2('0x4a')]()));}}if(Math[_0x4db2('0x4a')]()>0.9){SOUNDS[_0x4db2('0x4b')][_0x4db2('0x23')]();entities[_0x4db2('0x20')](new Health(this['x'],this['y'],Math[_0x4db2('0x4a')]()*Math['PI']*0x2,Math[_0x4db2('0x4a')]()));}}}}function linearMove(_0x29675c,_0x45ae3a,_0x1528eb){if(_0x45ae3a>_0x29675c+_0x1528eb)return _0x29675c+_0x1528eb;if(_0x45ae3a<_0x29675c-_0x1528eb)return _0x29675c-_0x1528eb;return _0x45ae3a;}class BigEnemy extends Enemy{constructor(_0xca925f,_0xf3979f){super(_0xca925f,_0xf3979f);this['w']=this['w']*1.2;this['h']=this['h']*1.1;this[_0x4db2('0x19')]=_0x4db2('0x4c');this[_0x4db2('0x2e')]=0x7;this[_0x4db2('0x43')]=0x3;}[_0x4db2('0x48')](_0x54f7b0,_0x4e0fa6,_0x49e1de,_0x1fbedb){var _0x5f02dc=Math[_0x4db2('0x3e')](_0x49e1de)*this[_0x4db2('0x43')];var _0xb3d4a9=Math[_0x4db2('0x3a')](_0x49e1de)*this[_0x4db2('0x43')];this['vx']=linearMove(this['vx'],_0x5f02dc,0.01);this['vy']=linearMove(this['vy'],_0xb3d4a9,0.01);}}class FastEnemy extends Enemy{constructor(_0x45df40,_0x100b87){super(_0x45df40,_0x100b87);this['w']=this['w']*0.7;this['h']=this['h']*0.7;this[_0x4db2('0x19')]=_0x4db2('0x4d');this[_0x4db2('0x2e')]=0x1;this['speed']=0x2;this['da']=(0x1-Math[_0x4db2('0x4e')](Math[_0x4db2('0x4a')]()*0x2)*0x2)*Math['PI']/0x5;}[_0x4db2('0x48')](_0x3ec12b,_0x3b4a8d,_0x526d95,_0x2d9bae){_0x526d95+=this['da'];var _0xe91005=Math['cos'](_0x526d95)*this['speed'];var _0x447012=Math[_0x4db2('0x3a')](_0x526d95)*this[_0x4db2('0x43')];this['vx']=linearMove(this['vx'],_0xe91005,0.4);this['vy']=linearMove(this['vy'],_0x447012,0.4);}}class Boss extends Enemy{constructor(_0x248daf,_0x73abeb){super(_0x248daf,_0x73abeb);this['w']=this['w']*0x3;this['h']=this['h']*0x3;this[_0x4db2('0x19')]=_0x4db2('0x4f');this[_0x4db2('0x2e')]=0xc8;this[_0x4db2('0x43')]=0x1;SOUNDS[_0x4db2('0x50')][_0x4db2('0x23')]();this[_0x4db2('0x51')]=0x0;this['stateTimer']=0xc8;this['dx']=0x0;this['dy']=0x0;this[_0x4db2('0x52')]=0x0;this['_w']=this['w'];this['_h']=this['h'];}[_0x4db2('0x48')](_0x45214e,_0x5e1c68,_0x4fb26b,_0x1c0a72){this['dx']=_0x45214e/_0x1c0a72;this['dy']=_0x5e1c68/_0x1c0a72;var _0xf8b6e9=Math[_0x4db2('0x3e')](_0x4fb26b)*this[_0x4db2('0x43')];var _0x2f7d9c=Math['sin'](_0x4fb26b)*this[_0x4db2('0x43')];this['vx']=linearMove(this['vx'],_0xf8b6e9,0.4);this['vy']=linearMove(this['vy'],_0x2f7d9c,0.4);if(this['x']<0x0)this['x']=0x0;if(this['y']<0x0)this['y']=0x0;if(this['x']>CE[_0x4db2('0x6')])this['x']=CE[_0x4db2('0x6')];if(this['y']>CE[_0x4db2('0x4')])this['y']=CE[_0x4db2('0x4')];}[_0x4db2('0x12')](){if(this[_0x4db2('0x2e')]<0x50&&this[_0x4db2('0x52')]==0x0){this[_0x4db2('0x19')]='red';this[_0x4db2('0x52')]=0x1;this[_0x4db2('0x51')]=0x7;this[_0x4db2('0x53')]=0xa;this['_w']*=0.7;this['_h']*=0.7;SOUNDS[_0x4db2('0x50')][_0x4db2('0x23')]();}this[_0x4db2('0x53')]-=0x1;var _0x520061=0x5;if(this[_0x4db2('0x53')]<=0x0){this[_0x4db2('0x53')]=0x64;var _0x40b76c=this['state'];this[_0x4db2('0x51')]=(this[_0x4db2('0x51')]+0x1)%0x9;if(this[_0x4db2('0x2e')]>0x96&&this[_0x4db2('0x51')]>0x2){this[_0x4db2('0x51')]=0x1;}if(this[_0x4db2('0x2e')]>0x50&&this[_0x4db2('0x51')]>0x6){this[_0x4db2('0x51')]=0x3;}if(this[_0x4db2('0x51')]==0x0){this[_0x4db2('0x46')]={'x':CE[_0x4db2('0x6')]/0x2,'y':CE[_0x4db2('0x4')]/0x2};this[_0x4db2('0x43')]=0x3;}else if(this[_0x4db2('0x51')]==0x1){this[_0x4db2('0x53')]=0x46;this[_0x4db2('0x46')]=player;this['speed']=-0x4;}else if(this['state']==0x2){this[_0x4db2('0x46')]={'x':player['x'],'y':player['y']};this[_0x4db2('0x43')]=0x6;}else if(this[_0x4db2('0x51')]==0x3){this[_0x4db2('0x46')]={'x':CE[_0x4db2('0x6')]/0x2,'y':0x0};this[_0x4db2('0x43')]=0x4;}else if(this[_0x4db2('0x51')]==0x4){this[_0x4db2('0x46')]={'x':player['x'],'y':0x0};this['speed']=0x6;this[_0x4db2('0x53')]=0x64;}else if(this[_0x4db2('0x51')]==0x5){this[_0x4db2('0x46')]={'x':this['x'],'y':this['y']};this[_0x4db2('0x43')]=0x1;this[_0x4db2('0x53')]=0x14;}else if(this[_0x4db2('0x51')]==0x6){this['target']={'x':this['x'],'y':CE[_0x4db2('0x4')]};this['speed']=0xa;}else if(this[_0x4db2('0x51')]==0x7){this[_0x4db2('0x46')]={'x':CE[_0x4db2('0x6')]/0x2,'y':CE[_0x4db2('0x4')]/0x2};this['speed']=0x5;}else if(this[_0x4db2('0x51')]==0x8){this[_0x4db2('0x53')]=0x384;}if(this[_0x4db2('0x52')]==0x1){this['speed']*=0x2;}}if(this[_0x4db2('0x51')]==0x5){this['w']+=(this['_w']*1.2-this['w'])/0x3;this['h']+=(this['_h']*0.8-this['h'])/0x3;this['target']={'x':player['x'],'y':0x0};}else if(this['state']==0x6){this['w']+=(this['_w']*0.8-this['w'])/0x3;this['h']+=(this['_h']*1.2-this['h'])/0x3;}else{this['w']+=(this['_w']-this['w'])/0x3;this['h']+=(this['_h']-this['h'])/0x3;}if(this[_0x4db2('0x51')]==0x8){var _0xcb6c4a=player['x']-this['x'];var _0x3edd58=player['y']-this['y'];this[_0x4db2('0x46')]={'x':this['x']+_0x3edd58,'y':this['y']-_0xcb6c4a};this['speed']=0x8;if(this[_0x4db2('0x53')]>0x258&&this[_0x4db2('0x45')]%0x28==0x0){entities[_0x4db2('0x20')](new BigEnemy(this['x']+this['dx']*0xa,this['y']+this['dy']*0xa));}}if(this['stage']==0x0&&this[_0x4db2('0x2e')]>0x96&&this[_0x4db2('0x45')]%0xc8==0x0){entities['push'](new FastEnemy(this['x']+this['dx']*0xa,this['y']+this['dy']*0xa));}super[_0x4db2('0x12')]();if(this[_0x4db2('0x51')]==0x1||this['state']==0x2){this['angle']=Math[_0x4db2('0x38')](this['dy'],this['dx'])+Math['PI']/0x2;}}[_0x4db2('0x13')](){super['draw']();canvas[_0x4db2('0x14')]();var _0x3cf0a3=0x14;if(this[_0x4db2('0x45')]<0x14)canvas[_0x4db2('0x15')](0x0,(-0x14+this['frame'])*0xa);canvas[_0x4db2('0xb')]=this[_0x4db2('0x19')];canvas[_0x4db2('0x54')]=_0x4db2('0xf');canvas['textAlign']=_0x4db2('0x55');canvas[_0x4db2('0x56')]=_0x4db2('0x57');canvas[_0x4db2('0x58')]=0x2;canvas['strokeText'](_0x4db2('0x59'),CE['width']/0x2,0x50);canvas[_0x4db2('0x5a')](_0x4db2('0x59'),CE[_0x4db2('0x6')]/0x2,0x50);var _0x27db05=0x190;canvas[_0x4db2('0xb')]='#444';canvas['fillRect'](CE[_0x4db2('0x6')]/0x2-_0x27db05/0x2-0x3,0x14-0x3,_0x27db05+0x6,0x14+0x6);canvas[_0x4db2('0xb')]=this['color'];canvas[_0x4db2('0xd')](CE['width']/0x2-_0x27db05/0x2,0x14,_0x27db05*this['life']/0xc8,0x14);canvas[_0x4db2('0x1b')]();}}class Coin extends Thing{constructor(_0x501ee1,_0x223a06,_0x47575d,_0x5fc21){super();this['x']=_0x501ee1;this['y']=_0x223a06;this['w']=0x19;this['h']=0x1e;this[_0x4db2('0x19')]=_0x4db2('0x5b');this['_w']=this['w'];this[_0x4db2('0x45')]=Math[_0x4db2('0x4e')](Math[_0x4db2('0x4a')]()*0xa);this['vx']=Math[_0x4db2('0x3e')](_0x47575d)*_0x5fc21*0x3;this['vy']=Math[_0x4db2('0x3a')](_0x47575d)*_0x5fc21*0x3;this['vz']=-0x4+Math['random']();this['z']=0x0;this[_0x4db2('0x5c')]=!![];this['visible']=!![];}['drawShape'](..._0x20c5e7){if(this[_0x4db2('0x5d')]){drawHouse(..._0x20c5e7);}}[_0x4db2('0x12')](){if(this[_0x4db2('0x5c')]){this['vz']+=0.3;this['x']+=this['vx'];this['y']+=this['vy']+this['vz'];this['z']+=this['vz'];if(this['z']>0x0){this[_0x4db2('0x5c')]=![];SOUNDS[_0x4db2('0x5e')][_0x4db2('0x23')]();}}this[_0x4db2('0x45')]+=0x1;this[_0x4db2('0x5f')]();if(collides(this,player)){this[_0x4db2('0x60')]();this[_0x4db2('0x1f')]=!![];}if(this[_0x4db2('0x45')]>0x12c){this['x']+=(player['x']-this['x'])/0xa;this['y']+=(player['y']-this['y'])/0xa;}if(this['x']<0x0)this['x']=0x0;if(this['x']>CE[_0x4db2('0x6')])this['x']=CE[_0x4db2('0x6')];if(this['y']<0x0)this['y']=0x0;if(this['y']>CE[_0x4db2('0x4')])this['y']=CE[_0x4db2('0x4')];}['animate'](){this['w']=this['_w']*Math[_0x4db2('0x3e')](this[_0x4db2('0x45')]*Math['PI']/0x14);}['pickup'](){player[_0x4db2('0x31')]+=0x1;SOUNDS[_0x4db2('0x5e')][_0x4db2('0x23')]();}}class Health extends Coin{constructor(_0x5c14c7,_0x4372bd,_0x1c6524,_0x14668e){super(_0x5c14c7,_0x4372bd,_0x1c6524,_0x14668e);this[_0x4db2('0x19')]=_0x4db2('0x61');this[_0x4db2('0x1a')]=_0x4db2('0x61');}[_0x4db2('0x5f')](){this['y']+=Math[_0x4db2('0x3e')](this[_0x4db2('0x45')]*Math['PI']/0x14);}[_0x4db2('0x60')](){lifeBlink=0x1;player[_0x4db2('0x2e')]+=0x2;SOUNDS[_0x4db2('0x4b')]['play']();if(player[_0x4db2('0x2e')]>player[_0x4db2('0x2f')])player[_0x4db2('0x2e')]=player[_0x4db2('0x2f')];}}function collides(_0x1fe9f7,_0x2aede4){return _0x1fe9f7['x']+_0x1fe9f7['w']/0x2>=_0x2aede4['x']-_0x2aede4['w']/0x2&&_0x1fe9f7['x']-_0x1fe9f7['w']/0x2<=_0x2aede4['x']+_0x2aede4['w']/0x2&&_0x1fe9f7['y']+_0x1fe9f7['h']/0x2>=_0x2aede4['y']-_0x2aede4['h']/0x2&&_0x1fe9f7['y']-_0x1fe9f7['h']/0x2<=_0x2aede4['y']+_0x2aede4['h']/0x2;}var entities=[];var enemies=[];var playerBullets=[];var mouse={'x':0x0,'y':0x0,'down':![],'held':![]};var frameCount=0x0;var keys=[];var started=0x0;var player;var weapons=[];weapons[_0x4db2('0x62')]={'speed':0xa,'color':_0x4db2('0x63')};weapons[_0x4db2('0x64')]={'speed':0x14,'color':_0x4db2('0x65'),'shoot':function(_0x15e001,_0x17f477,_0x1518e1){entities[_0x4db2('0x20')]();}};for(var i=0x0;i<0xff;++i)keys[i]=0x0;function spawnEnemy(){if(spawnCount==-0x1)return;spawnCount+=0x1;var _0x1d8b49=CE[_0x4db2('0x6')]/0x2;if(spawnCount>0x28)_0x1d8b49=_0x1d8b49/0x2;var _0x5d40d2=Math[_0x4db2('0x4a')]()*Math['PI']*0x2;var _0x198810=Math[_0x4db2('0x3e')](_0x5d40d2)*_0x1d8b49+CE[_0x4db2('0x6')]/0x2;var _0x369f5c=Math[_0x4db2('0x3a')](_0x5d40d2)*_0x1d8b49+CE[_0x4db2('0x4')]/0x2;if(spawnCount<0x1e)entities[_0x4db2('0x20')](new Enemy(_0x198810,_0x369f5c));else if(spawnCount==0x1e){spawnTime=0x15e;}else if(spawnCount<0x28){spawnTime=0x46;entities[_0x4db2('0x20')](new BigEnemy(_0x198810,_0x369f5c));}else if(spawnCount==0x28){spawnTime=0x1f4;}else{entities['push'](new Boss(CE[_0x4db2('0x6')]/0x2,0x0));spawnCount=-0x1;}}var spawnCount;function update(){handleGamePad();spawnTimer+=0x1;if(spawnTimer>=spawnTime&&started){spawnEnemy();spawnTimer=0x0;}for(var _0x138e37=0x0;_0x138e37<entities[_0x4db2('0x66')];++_0x138e37){var _0x306d4c=entities[_0x138e37];_0x306d4c[_0x4db2('0x12')]();if(_0x306d4c[_0x4db2('0x1f')]){entities[_0x4db2('0x67')](_0x138e37,0x1);--_0x138e37;}}for(var _0x138e37=0x0;_0x138e37<playerBullets[_0x4db2('0x66')];++_0x138e37){var _0x83f1cf=playerBullets[_0x138e37];if(_0x83f1cf[_0x4db2('0x1f')]){playerBullets[_0x4db2('0x67')](_0x138e37,0x1);--_0x138e37;continue;}for(var _0xc8b117=0x0;_0xc8b117<enemies[_0x4db2('0x66')];++_0xc8b117){var _0x306d4c=enemies[_0xc8b117];if(_0x306d4c[_0x4db2('0x1f')]){enemies[_0x4db2('0x67')](_0xc8b117,0x1);--_0xc8b117;continue;}if(collides(_0x83f1cf,_0x306d4c)){_0x306d4c[_0x4db2('0x44')]();_0x83f1cf[_0x4db2('0x44')]();break;}}}if(started==0x1){if(player[_0x4db2('0x2e')]<=0x0){started=0x2;frameCount=0x0;}}if(started==0x2&&frameCount>0x64){canvas[_0x4db2('0x68')]=0x1;start();}if(spawnCount==-0x1&&enemies[_0x4db2('0x66')]==0x0){win=!![];}mouse[_0x4db2('0x21')]=![];frameCount+=0x1;}function draw(){canvas[_0x4db2('0x69')](0x0,0x0,CE[_0x4db2('0x6')],CE[_0x4db2('0x4')]);if(started==0x2)canvas['globalAlpha']=0x1-frameCount/0x64;entities[_0x4db2('0x6a')](_0x4c6165=>_0x4c6165[_0x4db2('0x13')]());window[_0x4db2('0x6b')](draw);if(started){if(spawnCount==-0x1&&enemies[_0x4db2('0x66')]==0x0){canvas[_0x4db2('0xb')]=_0x4db2('0xc');canvas[_0x4db2('0x6c')]=_0x4db2('0x55');canvas[_0x4db2('0x56')]=_0x4db2('0x6d');canvas[_0x4db2('0x54')]=_0x4db2('0xf');canvas[_0x4db2('0x58')]=0x2;canvas[_0x4db2('0x6e')](_0x4db2('0x59'),CE['width']/0x2,CE[_0x4db2('0x4')]/0x2);canvas['fillText'](_0x4db2('0x59'),CE['width']/0x2,CE[_0x4db2('0x4')]/0x2);if(entities[_0x4db2('0x66')]==0x2&&started!=0x2){started=0x2;frameCount=0x0;}}if(crossHairs)crossHairs[_0x4db2('0x13')]();canvas['save']();if(frameCount<0x64)canvas[_0x4db2('0x15')](0x0,-0x64+frameCount);canvas[_0x4db2('0x56')]=_0x4db2('0x6f');canvas[_0x4db2('0x6c')]='left';canvas['fillStyle']=_0x4db2('0x70');if(lifeBlink>0x0){if(lifeBlink%0xa<0x5)canvas[_0x4db2('0xb')]=_0x4db2('0x71');lifeBlink+=0x1;if(lifeBlink>0x14)lifeBlink=0x0;}canvas[_0x4db2('0x5a')]('House',0xa,0x28);var _0x51d502=canvas['fillStyle'];var _0x29f894=0x14;var _0x375048=_0x29f894*0x1;for(var _0x577e87=0x0;_0x577e87<player['maxLife'];_0x577e87+=0x2){drawHouse(0x50+_0x375048*_0x577e87,0x14,_0x29f894,_0x29f894,_0x4db2('0x72'),_0x4db2('0x72'));if(player[_0x4db2('0x2e')]>_0x577e87+0x1){drawHouse(0x50+_0x375048*_0x577e87,0x14,_0x29f894,_0x29f894,_0x51d502,_0x51d502);}else if(player['life']==_0x577e87+0x1){drawHalfHouse(0x50+_0x375048*_0x577e87,0x14,_0x29f894,_0x29f894,_0x51d502,_0x51d502);}}if(frameCount<0xc8)canvas['translate'](-0xc8+frameCount,0x0);canvas[_0x4db2('0xb')]=_0x4db2('0x5b');canvas[_0x4db2('0x56')]='20px\x20Pacifico';canvas['fillText'](_0x4db2('0x73')+player['coins'],0xa,0x50);canvas[_0x4db2('0x1b')]();}if(touchOn){touchDraw();}}function touchDraw(){for(var _0x285181=0x0;_0x285181<touchJoySticks['length'];++_0x285181){var _0x411460=touchJoySticks[_0x285181];var _0x87eb12=_0x411460[_0x4db2('0x27')]['angle'];var _0x1ca8f9=_0x411460['r']*CE[_0x4db2('0x4')];var _0xcd3213=_0x1ca8f9*0x3c/0x32;canvas[_0x4db2('0x14')]();canvas[_0x4db2('0x15')](_0x411460['x']*CE[_0x4db2('0x6')],_0x411460['y']*CE[_0x4db2('0x4')]);canvas[_0x4db2('0x17')](_0x87eb12+Math['PI']/0x2);var _0x6b5dc4='rgba(255,255,255,0.5)';if(_0x411460[_0x4db2('0x2a')])_0x6b5dc4=_0x4db2('0x74');drawHouse(-_0x1ca8f9/0x2,-_0xcd3213/0x2,_0x1ca8f9,_0xcd3213,_0x6b5dc4,_0x4db2('0x75'));canvas[_0x4db2('0x1b')]();}}var lifeBlink;var win;function start(){entities=[];enemies=[];playerBullets=[];spawnCount=0x0;spawnTime=0x32;spawnTimer=0x0;frameCount=0x0;lifeBlink=0x0;touchOn=![];gamepadOn=![];win=![];started=![];CE[_0x4db2('0x3')][_0x4db2('0x76')]=_0x4db2('0x62');entities['push'](new HouseButton(CE[_0x4db2('0x6')]/0x2,CE[_0x4db2('0x4')]/0x2));}function setup(){setInterval(update,0x3e8/0x3c);draw();start();}function onmousemove(_0x15278c){var _0x1a2151=_0x15278c[_0x4db2('0x46')][_0x4db2('0x77')]();x=_0x15278c[_0x4db2('0x78')]-_0x1a2151[_0x4db2('0x79')];y=_0x15278c[_0x4db2('0x7a')]-_0x1a2151[_0x4db2('0x7b')];x*=CE[_0x4db2('0x6')]/_0x15278c['target']['offsetWidth'];y*=CE[_0x4db2('0x4')]/_0x15278c[_0x4db2('0x46')][_0x4db2('0x7c')];mouse['x']=x;mouse['y']=y;}function onmousedown(_0x179335){touchOn=![];gamepadOn=![];mouse[_0x4db2('0x21')]=!![];mouse[_0x4db2('0x2a')]=!![];initializeSound();}function onmouseup(_0x1453ba){mouse[_0x4db2('0x2a')]=![];}function onkeydown(_0xe5540f){var _0x437fc7=_0xe5540f['keyCode'];keys[_0x437fc7]=!![];}function onkeyup(_0x2edbb1){var _0x3f1e25=_0x2edbb1[_0x4db2('0x7d')];keys[_0x3f1e25]=![];}window[_0x4db2('0x7e')](_0x4db2('0x7f'),onresize);window['addEventListener'](_0x4db2('0x80'),onresize);window[_0x4db2('0x7e')](_0x4db2('0x80'),setup);window[_0x4db2('0x7e')](_0x4db2('0x81'),onmousemove);window[_0x4db2('0x7e')](_0x4db2('0x82'),onmousedown);window[_0x4db2('0x7e')]('mouseup',onmouseup);window[_0x4db2('0x7e')](_0x4db2('0x83'),onkeydown);window['addEventListener'](_0x4db2('0x84'),onkeyup);